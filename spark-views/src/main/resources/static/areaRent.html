<!DOCTYPE html>

<html lang="en">
<head>
    <meta charset="utf-8"></meta>
    <title>AreaRent</title>

    <!-- 引入 ECharts 和 jQuery 库 -->
    <script src="echarts.js"></script>
    <script src="jquery.min.js"></script>
</head>
<body>

<h2>每平方米多少钱</h2>

<!-- 用于显示图表的容器 -->
<div id="main" style="width: 100%;height: 500px;"></div>

<script>
    // 使用 Fetch API 获取服务器数据
    fetch('areaRentView')
        .then(response => response.json())//获取传递过来的json数据
        .then(data => {
            // 从数据中提取区域和平均租金信息
            const district = data.map(item => item.district);
            const avg = data.map(item => item.areaRent);
            // 日志输出区域和平均租金数据，用于调试
            console.log(district)
            console.log(avg)
            // 初始化 ECharts 实例
            const myEcharts = echarts.init(document.getElementById("main"));
            // 配置图表选项
            const option = {
                title: {
                    text: "不同区域的每平方米租金",
                    left: "center"
                },
                xAxis: {
                    name: "区域",
                    data: district
                },
                yAxis: {
                    name: "每平方米租金"
                },
                series:
                    {
                        name: "区域",
                        type: "bar",
                        data: avg
                    }

            };
            // 将配置选项应用到 ECharts 实例
            myEcharts.setOption(option);
        });
</script>
</body>
</html>
